<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sign Up — Ayurvedic Herbal Pharm</title>
  <style>
    :root{
      --green:#2e7d32;
      --muted:#6b6b6b;
      --bg:linear-gradient(180deg,#eef6ee 0%, #f4f7f6 60%);
      --card:#ffffff;
      --radius:12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family: Inter, system-ui, "Segoe UI", Roboto, Arial;
      background: var(--bg);
      padding:20px;
    }

    .wrap{
      width:100%;
      max-width:960px;
      display:grid;
      grid-template-columns: 1fr 420px;
      gap:28px;
      align-items:center;
    }

    /* Left info */
    .info {
      background: linear-gradient(180deg, rgba(46,125,50,0.06), rgba(46,125,50,0.02));
      padding:28px;
      border-radius:var(--radius);
      box-shadow: 0 10px 30px rgba(20,20,20,0.06);
    }
    .info h1{ color:var(--green); margin:0 0 12px 0; font-size:26px; }
    .info p{ color:var(--muted); line-height:1.6; }

    /* Right card */
    .card{
      background:var(--card);
      padding:26px;
      border-radius:var(--radius);
      box-shadow:0 10px 30px rgba(20,20,20,0.08);
    }
    .card h2{ margin:0 0 4px 0; color:var(--green); }
    .card p.small{ margin:0 0 18px 0; color:var(--muted); font-size:14px; }

    .field{ margin-bottom:12px; }
    label{ display:block; font-size:13px; color:#333; margin-bottom:6px; }

    .phone-row{
      display:flex;
      gap:8px;
      align-items:center;
    }
    .country {
      flex:0 0 90px;
    }
    .country select, .input, .otp-input{
      width:100%;
      padding:10px 12px;
      border-radius:8px;
      border:1px solid #e6e6e6;
      font-size:15px;
      outline:none;
      background:#fff;
    }
    .input:focus, .otp-input:focus, .country select:focus{
      border-color:var(--green);
      box-shadow:0 6px 18px rgba(46,125,50,0.08);
    }

    .actions{
      display:flex;
      gap:10px;
      margin-top:8px;
      align-items:center;
    }
    .btn{
      padding:10px 14px;
      border-radius:8px;
      border:0;
      background:var(--green);
      color:#fff;
      cursor:pointer;
      font-weight:600;
    }
    .btn[disabled]{ opacity:.6; cursor:not-allowed; }

    .small-link{
      background:transparent;
      border:0;
      color:var(--green);
      cursor:pointer;
      text-decoration:underline;
      padding:6px 0;
      font-size:14px;
    }

    .otp-box{
      display:flex;
      gap:8px;
      align-items:center;
      margin-top:8px;
    }
    .note{ font-size:13px; color:var(--muted); margin-top:12px; }

    .msg {
      margin-top:14px;
      padding:10px 12px;
      border-radius:8px;
      font-size:14px;
      display:none;
    }
    .msg.success{ background: #e6f4ea; color:#1b5e20; border:1px solid #cceed7; display:block; }
    .msg.error{ background:#fdecea; color:#8a1f10; border:1px solid #f7c6c2; display:block; }

    /* Responsive */
    @media (max-width:900px){
      .wrap{ grid-template-columns: 1fr; padding:12px; }
    }
  </style>
</head>
<body>
  <main class="wrap" aria-label="Sign up page">
    <section class="info" aria-hidden="false">
      <h1>Ayurvedic Herbal Pharm — Sign Up</h1>
      <p>
        Enter your mobile number to create an account. We will send a one-time password (OTP) to your phone for verification.
        (This demo uses client-side OTP generation. To send real SMS, connect a backend with an SMS gateway like Twilio, MSG91 or Nexmo.)
      </p>
      <ul style="margin-top:12px;color:var(--muted);line-height:1.6">
        <li><strong>Secure:</strong> OTP verifies your number before account creation.</li>
        <li><strong>Quick:</strong> OTP arrives within seconds (depending on provider).</li>
        <li><strong>Resend:</strong> You can request resend after cooldown.</li>
      </ul>
    </section>

    <section class="card" aria-labelledby="signupTitle">
      <h2 id="signupTitle">Sign up with mobile</h2>
      <p class="small">Enter your phone number and verify with OTP.</p>

      <!-- Phone input -->
      <div class="field">
        <label for="phone">Mobile number</label>
        <div class="phone-row">
          <div class="country">
            <select id="countryCode" aria-label="Country code">
              <option value="+91" selected>+91</option>
              <option value="+1">+1</option>
              <option value="+44">+44</option>
              <option value="+61">+61</option>
            </select>
          </div>
          <input id="phone" class="input" inputmode="tel" type="tel" placeholder="Enter mobile number" aria-label="Mobile number">
        </div>
      </div>

      <div class="actions">
        <button id="sendBtn" class="btn">Send OTP</button>
        <button id="changeBtn" class="small-link" style="display:none;">Change number</button>
      </div>

      <!-- OTP area -->
      <div id="otpArea" style="display:none;margin-top:12px;">
        <label for="otp">Enter OTP</label>
        <div class="otp-box">
          <input id="otp" class="otp-input" inputmode="numeric" type="text" maxlength="6" placeholder="6-digit OTP" aria-label="OTP">
          <button id="verifyBtn" class="btn">Verify OTP</button>
        </div>
        <div style="display:flex;align-items:center;gap:12px;margin-top:10px;">
          <div id="countdown" style="color:var(--muted);font-size:14px">You can resend in <span id="timer">30</span>s</div>
          <button id="resendBtn" class="small-link" disabled>Resend OTP</button>
        </div>
      </div>

      <div id="message" class="msg" role="status" aria-live="polite"></div>
      <p class="note">By continuing you agree to our Terms & Privacy.</p>
    </section>
  </main>

  <script>
    // Demo OTP sign-up logic (client-side). Replace networking with backend for production.
    (function(){
      const sendBtn = document.getElementById('sendBtn');
      const phoneInput = document.getElementById('phone');
      const country = document.getElementById('countryCode');
      const otpArea = document.getElementById('otpArea');
      const otpInput = document.getElementById('otp');
      const verifyBtn = document.getElementById('verifyBtn');
      const resendBtn = document.getElementById('resendBtn');
      const countdownEl = document.getElementById('timer');
      const message = document.getElementById('message');
      const changeBtn = document.getElementById('changeBtn');

      let generatedOTP = null;
      let countdown = null;
      let secondsLeft = 30;
      let lastNumber = null;

      function showMessage(type, text){
        message.className = 'msg ' + (type === 'success' ? 'success' : 'error');
        message.textContent = text;
        // clear after some time
        setTimeout(()=>{ message.style.display = 'block'; }, 10);
      }

      function resetMessage(){
        message.style.display = 'none';
      }

      function startCountdown(){
        secondsLeft = 30;
        countdownEl.textContent = secondsLeft;
        resendBtn.disabled = true;
        clearInterval(countdown);
        countdown = setInterval(()=>{
          secondsLeft--;
          countdownEl.textContent = secondsLeft;
          if(secondsLeft <= 0){
            clearInterval(countdown);
            resendBtn.disabled = false;
            countdownEl.textContent = '0';
          }
        },1000);
      }

      function validatePhone(num){
        // basic validation: digits only, length 6-15
        const digits = num.replace(/\D/g,'');
        return digits.length >= 6 && digits.length <= 15;
      }

      function generateOTP(){
        return String(Math.floor(100000 + Math.random()*900000)); // 6-digit
      }

      sendBtn.addEventListener('click', function(){
        resetMessage();
        const phone = phoneInput.value.trim();
        const cc = country.value;
        if(!validatePhone(phone)){
          showMessage('error','Please enter a valid mobile number.');
          return;
        }

        // Disable inputs while sending
        sendBtn.disabled = true;
        sendBtn.textContent = 'Sending...';

        // In production: call backend API to send SMS (uncomment + adapt)
        /*
        fetch('/api/send-otp', {
          method:'POST', headers:{'Content-Type':'application/json'},
          body: JSON.stringify({ phone: cc + phone })
        }).then(r=>r.json()).then(data=>{
          // handle response
        }).catch(err=>{
          // handle error
        });
        */

        // --- Demo behavior: generate OTP on client ---
        setTimeout(()=>{
          generatedOTP = generateOTP();
          console.log('Demo OTP (showing for testing):', generatedOTP);
          lastNumber = cc + phone;
          otpArea.style.display = 'block';
          changeBtn.style.display = 'inline-block';
          sendBtn.style.display = 'none';
          showMessage('success','OTP sent to ' + lastNumber + ' (demo).');
          startCountdown();
          sendBtn.disabled = false;
          sendBtn.textContent = 'Send OTP';
        }, 700); // simulate network delay (700ms)
      });

      resendBtn.addEventListener('click', function(){
        resetMessage();
        if(!lastNumber){
          showMessage('error','No phone number to resend OTP for.');
          return;
        }
        resendBtn.disabled = true;
        resendBtn.textContent = 'Resending...';

        // In production: call backend to resend OTP

        setTimeout(()=>{
          generatedOTP = generateOTP();
          console.log('Demo Resent OTP:', generatedOTP);
          showMessage('success','OTP resent to ' + lastNumber + ' (demo).');
          resendBtn.textContent = 'Resend OTP';
          startCountdown();
        }, 700);
      });

      verifyBtn.addEventListener('click', function(){
        resetMessage();
        const entered = otpInput.value.trim();
        if(!/^\d{6}$/.test(entered)){
          showMessage('error','Please enter the 6-digit OTP.');
          return;
        }
        // In production: send entered OTP + phone to backend for verification
        // For demo: compare with generatedOTP
        if(entered === generatedOTP){
          showMessage('success','Phone verified successfully! Account created.');
          // here you can redirect to dashboard or create user in backend
          // example: fetch('/api/verify-otp', {method:'POST', body:JSON.stringify({phone:lastNumber, otp:entered})})
        } else {
          showMessage('error','Incorrect OTP. Please try again or resend.');
        }
      });

      changeBtn.addEventListener('click', function(){
        // allow user to change number
        otpArea.style.display = 'none';
        sendBtn.style.display = 'inline-block';
        changeBtn.style.display = 'none';
        otpInput.value = '';
        generatedOTP = null;
        lastNumber = null;
        clearInterval(countdown);
        resendBtn.disabled = true;
        countdownEl.textContent = '30';
        resetMessage();
      });

      // accessibility: allow Enter key to trigger send/verify
      phoneInput.addEventListener('keydown', function(e){
        if(e.key === 'Enter') sendBtn.click();
      });
      otpInput.addEventListener('keydown', function(e){
        if(e.key === 'Enter') verifyBtn.click();
      });

      // initialize
      resendBtn.disabled = true;
      message.style.display = 'none';
    })();
  </script>
</body>
</html>
